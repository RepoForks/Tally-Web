<section class="container-wrapper presentation-container">
  <div class="container">
    <chatbox title="{{roomName}}" room="{{roomID}}"></chatbox>

    <div class="row">
      <div class="col-xs-12">
        <div class="poll-question">
          <h2 class="text-center">{{vm.polls[vm.pollNum].question}}</h2>
        </div>


        <canvas ng-show="chartOptions[vm.polls[vm.pollNum].$id].type === 'bar' "id="vm.polls[vm.pollNum].$id" class="chart chart-bar center-block" chart-data="responses[vm.polls[vm.pollNum].$id]" chart-labels="vm.polls[vm.pollNum].choices" chart-options="chartOptions[vm.polls[vm.pollNum].$id]" chart-series="vm.polls[vm.pollNum].choices"></canvas>
        <canvas ng-show="chartOptions[vm.polls[vm.pollNum].$id].type === 'pie' " chart-legend="true" id="vm.polls[vm.pollNum].$id" class="chart chart-pie center-block" chart-data="responses[vm.polls[vm.pollNum].$id]" chart-labels="vm.polls[vm.pollNum].choices"></canvas>

        <div class="" ng-show="chartOptions[vm.polls[vm.pollNum].$id].type === 'form'">
          <div class="row">
            <div class="col-sm-6" ng-repeat="sp in responses[vm.polls[vm.pollNum].$id] track by $index">
              <div class="card card-padding" ng-click="vm.showFormDialog(sp)">
                <p class="card-text">{{sp}}</p>
              </div>
            </div>
          </div>
        </div>

        <div ng-show="vm.pollNum > 0" ng-click="vm.previousPoll()" ui-sref="presentation.respond({ presID: vm.presID, pollNum: vm.pollNum})" class="prev-next-button previous">
          <svg viewbox="0 0 100 100">
            <path class="arrow" d="M 50,0 L 60,10 L 20,50 L 60,90 L 50,100 L 0,50 Z" transform="translate(15,0)">
          </svg>
        </div>


        <div ng-show="vm.pollNum < vm.polls.length -1" ng-click="vm.nextPoll()" ui-sref="presentation.respond({ presID: vm.presID, pollNum: vm.pollNum})" class="prev-next-button next">
          <svg viewbox="0 0 100 100">
            <path class="arrow" d="M 50,0 L 60,10 L 20,50 L 60,90 L 50,100 L 0,50 Z "transform="translate(85,100) rotate(180) ">
          </svg>
        </div>

      </div>
    </div>
  </div>
</section>
